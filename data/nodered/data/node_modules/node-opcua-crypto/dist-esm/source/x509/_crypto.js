var x509 = require("@peculiar/x509");
import { Crypto as PeculiarWebCrypto } from "@peculiar/webcrypto";
var _crypto;
var ignoreCrypto = process.env.IGNORE_SUBTLE_FROM_CRYPTO;
if (typeof window === "undefined") {
    _crypto = require("crypto");
    if (!(_crypto === null || _crypto === void 0 ? void 0 : _crypto.subtle) || ignoreCrypto) {
        _crypto = new PeculiarWebCrypto();
        console.warn("using @peculiar/webcrypto");
    }
    else {
        console.warn("using nodejs crypto (native)");
    }
    x509.cryptoProvider.set(_crypto);
}
else {
    console.warn("using browser crypto (native)");
    _crypto = crypto;
    x509.cryptoProvider.set(crypto);
}
export function getCrypto() {
    return _crypto || crypto || require("crypto");
}
export * as x509 from "@peculiar/x509";
//# sourceMappingURL=_crypto.js.map